## 자바 중급 1편

### 날짜와 시간
> 1. 날짜와 시간 라이브러리가 필요한 이유
> 2. 자바 날짜와 시간 라이브러리의 역사
---
### 1. 날짜와 시간 라이브러리가 필요한 이유
#### 1. 날짜와 시간 차이 계산
- 특정 날짜에서 다른 날짜까지의 정확한 일수를 계산하는것은 생각보다 복잡하다. -> 윤년, 각 달의 일수등을 고려
#### 2. 윤년 계산
- **지구가 태양을 한 바퀴 도는데 걸리는 평균 시간은 대략 365.2425**일, 즉 365일 5시간 48분 45초 정도이다
- 우리가 **현재 사용하는 달력은 1년이 보통 365**일로 되어 있어 정확히 맞지 않다.
- 이런 문제를 해결하기 위해 **4년마다 하루(2월 29일)를 추가**하는 `윤년(leap year)`을 도입한다.
  - 윤년은 4년마다 한 번씩 발생하지만, _**100년 단위일 때는 윤년이 아니며, 400년 단위일 때는 다시 윤년이다.**_
#### 3. 일광 절약 시간(Daylight Saving Time, DST)변환
- 보통 3월에서 10월은 태양이 일찍 뜨고, 나머지는 태양이 상대적으로 늦게 뜬다.
- 시간도 여기에 맞추어 1시간 앞당기거나 늦추는 제도를 DST 또는 썸머타임이라 한다.
- 국가나 지역에 따라 적용 여부와 시작 및 종료 날짜가 다르다. 즉, 시간계산 시 1시간의 오차가 발생할 수 있다.
  - 참고로 대한민국에서는 1988년 이후로는 시행하지 않는다.
#### 타임존 계산
- 세계는 다양한 타임존으로 나뉘어 있으며, 각 타임존은 `UTC(협정 세계시)`로부터의 시간 차이로 정의된다.
  - `Europe`/`London`
  - `GMT`
  - `UTC`
  - `US/Arizona` -07:00
  - `America/New_York` -05:00
  - `Asia/Seoul` +09:00
  - `Asia/Dubai` +04:00
  - `Asia/Istanbul` +03:00
  - `Asia/Shanghai` +08:00
  - `Eruope/Paris` +01:00
  - `Europe/Berlin` +01:00
- **GMT, UTC** : `London` / `UTC` / `GMT` 는 **세계 시간의 기준**이 되는 00:00 시간대이다.
- **GMT(Greenwich Mean Time, 그리니치 평균시)**
  - 처음 세계 시간을 만들 때 영국 런던에 있는 그리니치 천문대를 기준으로 했다.
- **UTC(Universal Time Coordinated, 협정 세계시)**
  - GMT 를 대체하기 위해 UTC가 도입되었다.
  - 둘 다 경도 0에 위치한 영국의 그리니치 천문대를 기준으로 하지만 시간을 정의하고 유지하는 방법에서 차이가 있다.
  - `UTC`는 ***원자 시계를 사용하여 측정한 국제적으로 합의된 시간 체계***이다.
    - 원자시계는 지구의 자전 속도가 변화하는 것을 고려하여 윤초를 추가하거나 빼는 방식으로 시간을 조정하기 때문에 정확한 시간을 유지한다.
---
### 2. 자바 날짜와 시간 라이브러리의 역사
> Java 는 날짜와 시간 라이브러리를 지속해서 업데이트 했다.

#### JDK 1.0 - java.util.Date
- 문제점 
  - **타임존 처리 부족**
  - **불편한 날짜 시간 연산**
  - **불변 객체 부재** : `Date` 객체는 변경 가능(mutable)하여, 데이터가 쉽게 변경되어 버그가 발생하기 쉬웠다.
- 해결책 
  - JDK 1.1 에서 `java.util.Calender` 클래스 도입으로 **타임존 지원 개선**
  - 날짜 시간 **연산을 위한 추가 메서드 제공**

#### JDK 1.1 - java.util.Calender
- 문제점
  - **사용성 저하** : `Calender` 는 사용하기 복잡하고 직관적이지 않다.
  - **성능 문제**
  - **불변 객체 부재** : `Calender` 객체도 변경 가능하여, 사이드 이펙트, 스레드 안정성 문제가 있었다.
- 해결책 : `Joda-Time` 오픈소스 라이브러리의 도입으로 **사용성, 성능, 불변성 문제 해결**

#### Joda-Time
- 문제점 : 표준 라이브러리가 아니기 때문에 프로젝트에 별도로 추가해야 했다.
- 해결책 : Java8 에서 `java.time` 패키지(JSR-310)를 표준 API로 도입

#### JDK 8(JDK 1.8) - java.time 패키지
- `java.time` 패키지는 이전 API의 문제점을 해결하면서, ***사용성, 성능, 스레드 안정성, 타임존 처리등에서 크게 개선***되었다.
- 불변 객체 설계로 ***사이드 이펙트, 스레드 안정성 보장, 보다 직관적인 API 제공으로 날짜와 시간 연산을 단순화***했다.
- `LocalDate` , `LocalTime` , `LocalDateTime` , `ZonedDateTime` , `Instant` 등의 클래스를 포함
- Joda-Time 의 많은 기능을 표준 자바 플랫폼으로 가져왔다.